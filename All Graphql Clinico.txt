# 1. Crear especies
mutation {
  perro: createEspecie(input: {descripcion: "Perro"}) {
    id
    descripcion
  }
  gato: createEspecie(input: {descripcion: "Gato"}) {
    id
    descripcion
  }
}

# 2. Crear clientes
mutation {
  cliente1: createCliente(input: {
    nombre: "Juan Carlos"
    apellidos: "Pérez García"
    email: "juan.perez@email.com"
    telefono: "555-1234"
    fechaNacimiento: "1985-03-15"
  }) {
    id
    nombre
    apellidos
    email
  }
  
  cliente2: createCliente(input: {
    nombre: "María José"
    apellidos: "López Martínez"
    email: "maria.lopez@email.com"
    telefono: "555-5678"
    fechaNacimiento: "1990-07-22"
  }) {
    id
    nombre
    apellidos
  }
}

# 3. Crear mascotas (usa los IDs que obtuviste arriba)
mutation {
  mascota1: createMascota(input: {
    nombre: "Max"
    sexo: "M"
    raza: "Golden Retriever"
    fechaNacimiento: "2020-05-10"
    peso: 25.5
    clienteId: "1"
    especieId: "1"
  }) {
    id
    nombre
    sexo
    raza
    peso
    cliente {
      nombre
      apellidos
    }
    especie {
      descripcion
    }
  }
  
  mascota2: createMascota(input: {
    nombre: "Luna"
    sexo: "F"
    raza: "Siamés"
    fechaNacimiento: "2019-12-03"
    peso: 4.2
    clienteId: "2"
    especieId: "2"
  }) {
    id
    nombre
    sexo
    raza
    cliente {
      nombre
    }
    especie {
      descripcion
    }
  }
}

# Crear mascota sin peso (opcional)
mutation {
  createMascota(input: {
    nombre: "Bella"
    sexo: "F"
    raza: "Labrador"
    fechaNacimiento: "2021-08-15"
    clienteId: "2"
    especieId: "1"
  }) {
    id
    nombre
    peso  # Debería devolver null
  }
}

# 4. Ver todas las mascotas con sus relaciones
query {
  mascotas {
    id
    nombre
    sexo
    raza
    fechaNacimiento
    peso
    cliente {
      id
      nombre
      apellidos
      email
    }
    especie {
      id
      descripcion
    }
  }
}

# 5. Buscar mascotas por cliente
query {
  mascotasByCliente(clienteId: "1") {
    id
    nombre
    raza
    sexo
    cliente {
      nombre
      apellidos
    }
  }
}

# 6. Buscar mascotas por especie
query {
  mascotasByEspecie(especieId: "1") {
    id
    nombre
    raza
    cliente {
      nombre
    }
    especie {
      descripcion
    }
  }
}

# 7. Buscar mascotas por sexo
query {
  mascotasBySexo(sexo: "F") {
    id
    nombre
    raza
    sexo
    cliente {
      nombre
    }
  }
}

# 8. Buscar mascotas por nombre o raza
query {
  searchMascotas(searchTerm: "Golden") {
    id
    nombre
    raza
    cliente {
      nombre
    }
  }
}

# 9. Actualizar una mascota
mutation {
  updateMascota(input: {
    id: "1"  # ID de Max
    nombre: "Max Champion"
    sexo: "M"
    raza: "Golden Retriever"
    fechaNacimiento: "2020-05-10"
    peso: 27.8
    clienteId: "1"
    especieId: "1"
  }) {
    id
    nombre
    peso
    cliente {
      nombre
    }
  }
}

# 10. Query completa con todos los datos
query {
  # Todas las especies
  especies {
    id
    descripcion
  }
  
  # Todos los clientes
  clientes {
    id
    nombre
    apellidos
    email
  }
  
  # Todas las mascotas con relaciones
  mascotas {
    id
    nombre
    sexo
    raza
    peso
    fechaNacimiento
    cliente {
      nombre
      apellidos
      email
    }
    especie {
      descripcion
    }
  }
}

------------------------------------------------------

mutation {
  createHorario(input: {
    dia: "Lunes"
    horaInicio: "08:00"
    horaFin: "12:00"
  }) {
    id
    dia
    horaInicio
    horaFin
  }
}

query {
  horarios {
    id
    dia
    horaInicio
    horaFin
  }
}


query {
  horariosByDia(dia: "Lunes") {
    id
    dia
    horaInicio
    horaFin
  }
}

--------------------------------------------------------------

mutation {
  createCita(input: {
    motivo: "Consulta general"
    fechaProgramada: "2025-11-01 10:00"
    clienteId: "1"
    horarioId: "1"  
    mascotaId: "1"
  }) {
    id
    motivo
    fechaProgramada
    fechaReservacion
    cliente {
      nombre
      apellidos
    }
    horario {
      dia
      horaInicio
      horaFin
    }
    mascota {
      nombre
      raza
    }
  }
}

----------------------------------------------------------------

mutation {
  createDiagnostico(input: {
    descripcion: "Infección en el oído derecho"
    observaciones: "La mascota presenta síntomas de malestar y se rasca constantemente. Se recomienda limpieza diaria."
    mascotaId: "1"  # ID de la mascota Max que ya tienes
  }) {
    id
    descripcion
    fechaDiagnostico
    observaciones
    mascota {
      nombre
      raza
      cliente {
        nombre
        apellidos
      }
    }
  }
}

mutation {
  createTratamiento(input: {
    descripcion: "Aplicación de gotas antibióticas"
    fechaInicio: "2025-11-01 09:00"
    fechaFin: "2025-11-08 09:00"
    instrucciones: "Aplicar 3 gotas en el oído derecho cada 12 horas durante 7 días. Limpiar el oído antes de cada aplicación."
    estado: "ACTIVO"
    diagnosticoId: "1"  # ID del diagnóstico que acabas de crear
  }) {
    id
    descripcion
    fechaInicio
    fechaFin
    instrucciones
    estado
    diagnostico {
      descripcion
      mascota {
        nombre
      }
    }
  }
}

query {
  diagnosticosByMascota(mascotaId: "1") {
    id
    descripcion
    fechaDiagnostico
    observaciones
    mascota {
      nombre
      raza
    }
  }
}

query {
  tratamientosByDiagnostico(diagnosticoId: "1") {
    id
    descripcion
    fechaInicio
    fechaFin
    estado
    instrucciones
  }
}

query {
  tratamientosByEstado(estado: "ACTIVO") {
    id
    descripcion
    estado
    diagnostico {
      descripcion
      mascota {
        nombre
      }
    }
  }
}


-------------------------------------------------------------------

mutation {
  createVacuna(input: {
    nombre: "Rabia"
    descripcion: "Vacuna contra la rabia para perros y gatos"
    duracionMeses: 12
    laboratorio: "Pfizer Animal Health"
    edadMinimaDias: 90
  }) {
    id
    nombre
    descripcion
    duracionMeses
    laboratorio
    edadMinimaDias
  }
}

mutation {
  createVacuna(input: {
    nombre: "Parvovirus"
    descripcion: "Vacuna contra parvovirus canino"
    duracionMeses: 6
    laboratorio: "Zoetis"
    edadMinimaDias: 45
  }) {
    id
    nombre
    descripcion
    duracionMeses
    laboratorio
    edadMinimaDias
  }
}

query {
  vacunas {
    id
    nombre
    descripcion
    duracionMeses
    laboratorio
    edadMinimaDias
  }
}

mutation {
  aplicarVacuna(input: {
    mascotaId: "1"
    vacunaId: "1"
    fechaAplicacion: "2025-10-31 10:00"
    veterinario: "Dr. García"
    observaciones: "Primera dosis, mascota en buen estado"
    lote: "RAB-2025-001"
  }) {
    id
    fechaAplicacion
    fechaProximaDosis
    veterinario
    observaciones
    lote
    mascota {
      id
      nombre
    }
    vacuna {
      id
      nombre
    }
  }
}


query {
  vacunasByMascota(mascotaId: "1") {
    id
    fechaAplicacion
    fechaProximaDosis
    veterinario
    observaciones
    lote
    vacuna {
      nombre
      descripcion
      laboratorio
    }
  }
}


query {
  vacunasPorVencer(fecha: "2026-12-31 23:59") {
    id
    fechaAplicacion
    fechaProximaDosis
    veterinario
    mascota {
      nombre
      cliente {
        nombre
        apellidos
        telefono
      }
    }
    vacuna {
      nombre
    }
  }
}


query {
  vacunasByLaboratorio(laboratorio: "Pfizer Animal Health") {
    id
    nombre
    descripcion
  }
}

query {
  vacunasByNombre(nombre: "Rabia") {
    id
    nombre
    laboratorio
  }
}